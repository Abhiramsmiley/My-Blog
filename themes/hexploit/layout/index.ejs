<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>
    <%= config.title %>
  </title>
  <link rel="icon" type="image/jpeg" href="/img/tabphoto.jpg">
  <link rel="icon" type="image/jpeg" sizes="32x32" href="/img/tabphoto.jpg">
  <link rel="apple-touch-icon" href="/img/tabphoto.jpg">
  <link rel="stylesheet" href="/css/styles.css">
  <link rel="stylesheet" href="/css/tailwind.css">
  <link rel="stylesheet" href="/css/hacker.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- <link rel="stylesheet" href="/css/search.css"> -->
</head>

<body class="bg-transparent">
  <%- partial('_partial/boot-screen') %>
  
  <!-- Site Wrapper - Hidden during boot -->
  <div class="site-wrapper">
    <div class="bg-image"></div>
    <canvas id="matrix" class="matrix-canvas"></canvas>
    <!-- Fixed Header -->
    <div class="sticky top-0 z-50">
      <%- partial('_partial/header') %>
  </div>

  <main class="w-screen min-h-screen container mx-auto">
    <!-- Hero Section -->
    <section class="hero-section">
      
      <!-- Centered Title Block (vertically and horizontally centered) -->
      <div class="hero-content">
        <h1 class="text-hacker-color2 font-dos md:text-huge text-3xl animate-bounce select-none md:min-h-[5rem] md:leading-[5rem] bg-gradient-to-r from-hacker-color1 to-hacker-color2 bg-clip-text text-transparent">
          <%= config.subtitle %>
        </h1>
        
        <!-- Animated Tagline -->
        <h2 id="animated-tagline" class="font-dos text-hacker-color3 select-none" style="margin-top: 1.5rem; min-height: 3rem; font-size: clamp(1.5rem, 3vw, 2.5rem);"></h2>
        
        <!-- Down Arrow (200px below title) -->
        <svg id="down-btn" class="w-16 h-16 hover:-translate-y-1 transition-all cursor-pointer" style="margin-top: 200px;"
          viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" fill="#bbbbbb">
          <path d="M185.884 327.55 146.3 367.133 512.021 732.779 877.7 367.133 838.117 327.55 511.997 653.676Z"></path>
        </svg>
      </div>
    </section>

    <!-- Posts Section with Sidebar -->
    <div class="min-h-screen flex gap-8" id="scr-target">
      <!-- Posts Container -->
      <div class="w-full space-y-8 p-4" id="posts-container">
        <% 
          var allPosts = site.posts.sort('-date');
          var totalPosts = allPosts.length;
        %>
        <% allPosts.forEach(function(post, index) { %>
          <div class="post-item" data-index="<%= index %>" style="<%= index >= 4 ? 'display: none;' : '' %>">
            <%- partial('_partial/operation-card', {post: post}) %>
          </div>
        <% }); %>
        
        <% if (totalPosts > 4) { %>
        <!-- Progressive Disclosure Control -->
        <div class="enumerate-control" id="enumerateControl" data-total="<%= totalPosts %>" data-visible="4">
          <div class="enumerate-divider"></div>
          <button class="enumerate-btn" id="enumerateBtn">
            <span class="enumerate-text">Surface view complete. Deeper enumeration available.</span>
            <span class="enumerate-glyph">↓</span>
          </button>
        </div>
        <% } %>
      </div>


      <!-- Sidebar -->
      <%- partial('_partial/sidebar') %>
      
      <!-- Security Info Widgets -->
      <div class="info-widgets-container">
        <!-- Section Heading -->
        <h2 class="widgets-section-heading">Current Security Focus</h2>
        
        <!-- Widget 1: Currently Researching -->
        <div class="info-widget">
          <h3 class="info-widget-title">
            <span class="widget-icon">▶</span> Researching
          </h3>
          <ul class="widget-list widget-list-animate">
            <li>JWT Abuse Patterns</li>
            <li>OAuth Misconfigurations</li>
            <li>Linux PrivEsc</li>
            <li>Cloud IAM Weak Links</li>
          </ul>
        </div>

        <!-- Widget 2: Security Focus Areas -->
        <div class="info-widget">
          <h3 class="info-widget-title">
            <span class="widget-icon">◆</span> Focus Areas
          </h3>
          <ul class="widget-list widget-list-animate">
            <li>Application Security</li>
            <li>Cloud & IAM</li>
            <li>Red Team Ops</li>
            <li>Blue Team Detection</li>
            <li>Malware Analysis</li>
          </ul>
        </div>

        <!-- Widget 3: Threat Landscape -->
        <div class="info-widget">
          <h3 class="info-widget-title">
            <span class="widget-icon">⚠</span> Threat Level
          </h3>
          <ul class="widget-list widget-list-animate threat-list">
            <li><span class="threat-label">Ransomware:</span> <span class="threat-high">HIGH</span></li>
            <li><span class="threat-label">Credential Abuse:</span> <span class="threat-active">ACTIVE</span></li>
            <li><span class="threat-label">Cloud Misconfig:</span> <span class="threat-rising">RISING</span></li>
            <li><span class="threat-label">Supply Chain:</span> <span class="threat-medium">MEDIUM</span></li>
          </ul>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <%- partial('_partial/footer') %>
  </div><!-- End site-wrapper -->
</body>
<script src="/js/scroll.js"></script>
<script>
  // Animated Tagline - Typewriter Effect with Multiple Sentences
  (function() {
    const taglines = [
      "Trust Is Always the First Exploited Vulnerability",
      "If a System Is Exposed, It Will Be Exploited",
      "Every Security Control Eventually Has a Working Bypass",
      "Attackers Exploit Assumptions Long Before Exploiting Code",
      "Attack Surfaces Reveal the Truth Security Tries to Hide",
      "Privilege Escalation Is Inevitable in Complex Systems",
      "Detection Only Starts After the Attacker Is Inside",
      "Red Teams Expose Risks Blue Teams Often Overlook",
      "Break the System First, Then Engineer the Defense",
      "Assume Compromise and Design Defenses Accordingly",
      "Adversaries Define the Real Security Requirements",
      "Trust Is the First Vulnerability",
      "If It's Exposed, It's Exploitable",
      "Every Control Has a Bypass",
      "Exploit Assumptions, Not Just Code",
      "Attack Surfaces Never Lie",
      "Privilege Is Always Escalatable",
      "Detection Begins After Compromise",
      "Red Teams Find What Blue Misses",
      "Break First, Defend Later"
    ];
    
    let currentIndex = 0;
    const element = document.getElementById('animated-tagline');
    if (!element) return;

    const letterDelay = 50;      // ms between each letter
    const pauseDuration = 2000;  // ms to pause after full text
    const fadeOutDuration = 500; // ms for fade out animation

    function typeWriter() {
      const tagline = taglines[currentIndex];
      let index = 0;
      element.textContent = '';
      element.classList.remove('fade-out');

      function typeLetter() {
        if (index < tagline.length) {
          element.textContent += tagline.charAt(index);
          index++;
          setTimeout(typeLetter, letterDelay);
        } else {
          // Pause then fade out
          setTimeout(() => {
            element.classList.add('fade-out');
            // Wait for fade out, then move to next sentence
            setTimeout(() => {
              currentIndex = (currentIndex + 1) % taglines.length;
              typeWriter();
            }, fadeOutDuration);
          }, pauseDuration);
        }
      }

      typeLetter();
    }

    // Start animation when DOM is ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', typeWriter);
    } else {
      typeWriter();
    }
  })();
</script>

<!-- Progressive Post Disclosure -->
<script>
(function() {
  document.addEventListener('DOMContentLoaded', function() {
    const control = document.getElementById('enumerateControl');
    const btn = document.getElementById('enumerateBtn');
    
    if (!control || !btn) return;
    
    const total = parseInt(control.dataset.total, 10);
    let visible = parseInt(control.dataset.visible, 10);
    const batchSize = 4;
    
    btn.addEventListener('click', function() {
      const posts = document.querySelectorAll('.post-item');
      const nextBatch = Math.min(visible + batchSize, total);
      
      // Reveal next batch with staggered animation
      for (let i = visible; i < nextBatch; i++) {
        const post = posts[i];
        if (post) {
          post.style.display = '';
          post.classList.add('post-reveal');
          post.style.animationDelay = ((i - visible) * 0.1) + 's';
        }
      }
      
      visible = nextBatch;
      control.dataset.visible = visible;
      
      // Update button text based on remaining posts
      const remaining = total - visible;
      if (remaining > 0) {
        const text = control.querySelector('.enumerate-text');
        text.textContent = remaining + ' more target' + (remaining > 1 ? 's' : '') + ' in scope.';
      }
      
      // Remove control when all posts are visible
      if (visible >= total) {
        control.style.opacity = '0';
        setTimeout(() => {
          control.style.display = 'none';
        }, 300);
      }
    });
  });
})();
</script>

<script src="/js/menu.js"></script>
<script src="/js/matrix.js"></script>
<script src="/js/floating-words.js"></script>

</html>